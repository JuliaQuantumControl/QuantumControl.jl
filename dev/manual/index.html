<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>User Manual · QuantumControl.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link rel="canonical" href="https://juliaquantumcontrol.github.io/QuantumControl.jl/manual/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.039/juliamono-regular.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">QuantumControl.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li class="is-active"><a class="tocitem" href>User Manual</a><ul class="internal"><li><a class="tocitem" href="#Setting-up-control-problems"><span>Setting up control problems</span></a></li><li><a class="tocitem" href="#Nomenclature"><span>Nomenclature</span></a></li><li><a class="tocitem" href="#Controls-and-control-parameters"><span>Controls and control parameters</span></a></li><li><a class="tocitem" href="#Time-propagation"><span>Time propagation</span></a></li><li><a class="tocitem" href="#Optimization"><span>Optimization</span></a></li></ul></li><li><a class="tocitem" href="../howto/">Howto</a></li><li><a class="tocitem" href="../api/">API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>User Manual</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>User Manual</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/JuliaQuantumControl/QuantumControl.jl/blob/master/docs/src/manual.md#" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="User-Manual"><a class="docs-heading-anchor" href="#User-Manual">User Manual</a><a id="User-Manual-1"></a><a class="docs-heading-anchor-permalink" href="#User-Manual" title="Permalink"></a></h1><p>The User Manual describes the API of the <code>QuantumControl</code> package by outlining the general procedure for defining and solving quantum control problems. See the <a href="../api/#API">API</a> for a detailed reference.</p><h2 id="Setting-up-control-problems"><a class="docs-heading-anchor" href="#Setting-up-control-problems">Setting up control problems</a><a id="Setting-up-control-problems-1"></a><a class="docs-heading-anchor-permalink" href="#Setting-up-control-problems" title="Permalink"></a></h2><ul><li><a href="../api/#QuantumControlBase.ControlProblem"><code>ControlProblem</code></a></li><li><a href="../api/#QuantumControlBase.Objective"><code>Objective</code></a></li></ul><h2 id="Nomenclature"><a class="docs-heading-anchor" href="#Nomenclature">Nomenclature</a><a id="Nomenclature-1"></a><a class="docs-heading-anchor-permalink" href="#Nomenclature" title="Permalink"></a></h2><p>In the context of the JuliaQuantumControl ecosystem, we apply the following nomenclature. We assume that the dynamical generator takes the form</p><p class="math-container">\[H = H_0 + \sum_l f(ϵ_l(t))) H_l\]</p><p>We call the total <span>$H$</span> the &quot;generator&quot; (&quot;Hamiltonian/Liouvillian&quot;). It generates the equation of motion as <span>$Ψ(t+dt) = e^{-i H dt} Ψ(t)$</span>, in the limit of <span>$dt → 0$</span> if <span>$H$</span> is time-dependent. We also use the symbol <span>$G$</span> in the general case encompassing Hamiltonians and Liouvillians. For the individual terms, <span>$H_0$</span> is the &quot;drift&quot; (&quot;drift generator/Hamiltonian/Liouvillian&quot;), <span>$H_l$</span> is the &quot;control generator&quot; (&quot;control Hamiltonian/Liouvillian&quot;), and <span>$f(ϵ_l(t))$</span> the &quot;control&quot;, or sometimes &quot;control function&quot; — but the controls need not be functions: they might also be arrays of pulse values, or custom objects. Lastly, the product <span>$f(ϵ_l(t)) H_l$</span> is the &quot;control term&quot;. Method names should reflect this terminology.</p><p>In most cases, we have linear controls, i.e., <span>$f(ϵ_l(t)) == ϵ_l(t)$</span>, but this is not a requirement. Sometimes, we may write <span>$ϵ(u_l(t))$</span> instead of <span>$f(ϵ_l(t))$</span>. These are equivalent, with the small semantic distinction that e.g. <span>$ϵ(t) = u_l²(t))$</span> is an &quot;artificial&quot; parametrization to ensure that the physical control field <span>$ϵ(t)$</span> is positive, e.g. as the envelope of a pulse in the rotating wave approximation. In contrast, we may also have a <em>physical</em> non-linear control <span>$ϵ²(t)$</span>, e.g. for the quadratic Stark shift. The control <span>$ϵ_l(t)$</span> may further depend on a finite set of &quot;control parameters&quot;, which are generally not functions of time (see below).</p><p>An important expression in gradient based quantum control is <span>$μ = \frac{∂H}{∂ϵ_l(t)} = \frac{∂f}{∂ϵ_l}\frac{∂H}{∂f} = \frac{∂f}{∂ϵ_l} H_l$</span>. We call <span>$μ$</span> the &quot;control derivative&quot; and <span>$\frac{∂f}{∂ϵ_l}$</span> the &quot;non-linearity&quot;. In the standard case of linear controls, the non-linearity is one and <span>$μ=\frac{∂H}{∂ϵ_l(t)}$</span> is simply the control generator. For a non-unit control derivative, however, <span>$μ$</span> is a function of the control and thus time-dependent.</p><h2 id="Controls-and-control-parameters"><a class="docs-heading-anchor" href="#Controls-and-control-parameters">Controls and control parameters</a><a id="Controls-and-control-parameters-1"></a><a class="docs-heading-anchor-permalink" href="#Controls-and-control-parameters" title="Permalink"></a></h2><p>The controls that the <code>QuantumControl</code> package optimizes are implicit in the dynamical generator (Hamiltonians, Liouvillians) of the <a href="../api/#QuantumControlBase.Objective"><code>Objectives</code></a> in the <a href="../api/#QuantumControlBase.ControlProblem"><code>ControlProblem</code></a>.</p><p>The <a href="../api/#QuantumControlBase.getcontrols-Tuple{Tuple}"><code>getcontrols</code></a> method extracts the controls from the objectives. Each control is typically time-dependent, e.g. a function <span>$ϵ(t)$</span> or a vector of pulse values on a time grid. The <em>default</em> format for the dynamical generators is that of a &quot;nested&quot; tuple, e.g. <code>(Ĥ₀, (Ĥ₁, ϵ₁), (Ĥ₂, ϵ₂))</code> where <code>Ĥ₀</code>, <code>Ĥ₁</code> and <code>Ĥ₂</code> are (sparse) matrices, and <code>ϵ₁</code> and <code>ϵ₂</code> are functions of time. The format corresponds to a time-dependent Hamiltonian <span>$Ĥ₀ + ϵ₁(t) Ĥ₁ + ϵ₂(t) Ĥ₂$</span>.  For <em>custom</em> types describing a Hamiltonian or Liouvillian, the <a href="../api/#QuantumControlBase.getcontrols-Tuple{Tuple}"><code>getcontrols</code></a> method must be defined to extract the controls.</p><p>For each control, <a href="../api/#QuantumControlBase.discretize-Tuple{Function, Any}"><code>discretize</code></a> and <a href="../api/#QuantumControlBase.discretize_on_midpoints-Union{Tuple{T}, Tuple{T, Any}} where T&lt;:Function"><code>discretize_on_midpoints</code></a> discretizes the control to an existing time grid. For controls that are implemented through some custom type, these methods must be defined to enable piecewise-constant time propagation or an optimization that assumes piecewise-constant control (most notably, Krotov&#39;s method).</p><p>More generally, <a href="../api/#QuantumControlBase.get_control_parameters-Tuple"><code>get_control_parameters</code></a> extracts abstract &quot;control parameters&quot; from a control. For controls that are simple functions, this is equivalent to discretizing them to a time grid. That is, the control parameters are the amplitude of the control field at each point in time, respectively each interval of the time grid. In general, though, the control parameters could be more abstract, e.g. the coefficients in a spectral decomposition, or parameters in an analytic pulse shape. In the context of optimal control, the parameters returned by <a href="../api/#QuantumControlBase.get_control_parameters-Tuple"><code>get_control_parameters</code></a> are those that the optimization should tune, assuming a suitable optimization method such as a gradient-free optimization or a generalized GRAPE (such as GROUP/GOAT).</p><h2 id="Time-propagation"><a class="docs-heading-anchor" href="#Time-propagation">Time propagation</a><a id="Time-propagation-1"></a><a class="docs-heading-anchor-permalink" href="#Time-propagation" title="Permalink"></a></h2><ul><li><a href="../api/#QuantumPropagators.propagate"><code>propagate</code></a></li></ul><h2 id="Optimization"><a class="docs-heading-anchor" href="#Optimization">Optimization</a><a id="Optimization-1"></a><a class="docs-heading-anchor-permalink" href="#Optimization" title="Permalink"></a></h2><ul><li><a href="../api/#Krotov.optimize_pulses"><code>optimize_pulses</code></a></li></ul></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Home</a><a class="docs-footer-nextpage" href="../howto/">Howto »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.7 on <span class="colophon-date" title="Friday 8 October 2021 20:08">Friday 8 October 2021</span>. Using Julia version 1.6.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
